on_actions = {
	on_startup = {
		effect = {
            GRE = {  
                USA = {
                    set_variable = { favor@PREV = 5 }
                }
                GER = {
                    set_variable = { favor@PREV = 5 }
                }
                JAP = {
                    set_variable = { favor@PREV = 5 }
                }
                ENG = {
                    set_variable = { favor@PREV = 5 }
                }
                FRA = {
                    set_variable = { favor@PREV = 5 }
                }
                ITA = {
                    set_variable = { favor@PREV = -22 }
                }
                CHI = {
                    set_variable = { favor@PREV = 0 }
                }
                IRQ = {
                    set_variable = { favor@PREV = 0 }
                }
                SAU = {
                    set_variable = { favor@PREV = 0 }
                }
                VEN = {
                    set_variable = { favor@PREV = 0 }
                }
                SOV = {
                    set_variable = { favor@PREV = -2 }
                }
                SPR = {
                    set_variable = { favor@PREV = 0 }
                }
                ROM = {
                    set_variable = { favor@PREV = 5 }
                }
                BUL = {
                    set_variable = { favor@PREV = -24 }
                }                    
                YUG = {
                    set_variable = { favor@PREV = 5 }
                }
            }
		}
	}

	on_startup = {
		effect = {
			GRE = {
				# You can put this in the country's history file alternatively too.
				faction_gui_initial = yes
			}
		}
	}

    on_startup = {
        effect = {
            add_to_array = {
                array = global.favor_mechanic
                value = USA.id 
            }            
            add_to_array = {
                array = global.favor_mechanic
                value = GER.id 
            }            
            add_to_array = {
                array = global.favor_mechanic
                value = ITA.id 
            }
            add_to_array = {
                array = global.favor_mechanic
                value = JAP.id 
            }            
            add_to_array = {
                array = global.favor_mechanic
                value = ENG.id 
            }
            add_to_array = {
                array = global.favor_mechanic
                value = FRA.id 
            } 
            add_to_array = {
                array = global.favor_mechanic
                value = VEN.id 
            }            
            add_to_array = {
                array = global.favor_mechanic
                value = SPR.id 
            }            
            add_to_array = {
                array = global.favor_mechanic
                value = CHI.id 
            }
            add_to_array = {
                array = global.favor_mechanic
                value = BUL.id 
            }            
            add_to_array = {
                array = global.favor_mechanic
                value = YUG.id 
            }            
            add_to_array = {
                array = global.favor_mechanic
                value = ROM.id 
            }    
            add_to_array = {
                array = global.favor_mechanic
                value = TUR.id 
            } 
            add_to_array = {
                array = global.favor_mechanic
                value = IRQ.id 
            }    
            add_to_array = {
                array = global.favor_mechanic
                value = SAU.id 
            }             
        }
    }
    
    ###THIS CHECKS FOR FORTIFICATIONS ON ALBANIA BORDER###
    
    on_monthly_GRE = { 
        effect = {
            if = {
                limit = {
                    ITA = { 
                        has_country_leader = {                                              ### Make sure the Italians have Mussolini as leader (not ahistorical).
                            name = "Benito Mussolini" 
                            ruling_only = yes
                        }
                        is_puppet = no                                                      ### Make sure they are not a puppet.
                    }
                    NOT = { has_country_flag = GRE_stop_checking_fortifications }           ### This flag is set only when THIS event is triggered (so it doesn't repeat).
                    NOT = { has_country_flag = GRE_safe_from_italian_immediate_action }     ### This flag is set through various manners. E.g. exoteriki politiki decisions.
                    184 = {
                        any_province_building_level = {
                            province = {
                                id = 9805
                                id = 3914
                                id = 841
                            }
                            building = bunker
                            level > 0
                        }
                    }
                }
                set_country_flag = GRE_stop_checking_fortifications
                country_event = { id = hellenic_news.6 days = 0 }
                if = {
                    limit = { ITA = { is_in_faction = no } }
                    ITA = { 
                        create_faction = "Novus Imperium Romanum"                           ### Force Italy into a faction and make Albania their puppet.
                        add_to_faction = ALB
                        ITA = { puppet = ALB }
                    }
                }
                else = {
                    ITA = {                                                                 ### If Italy is in a faction, add Albania to it and make them their puppet.
                        add_to_faction = ALB
                        ITA = { puppet = ALB }
                    }                
                }
				ITA = {                                                                     ### Give Italy wargoal for 30 days.
					create_wargoal = {
						type = puppet_wargoal_focus 
						target = GRE
                        expire = 30
					}
				}                
            }
        }
    }
    
    ######################################################
    
    on_monthly_GRE = {
        effect = {
            every_country = {
                limit = {
                    is_in_array = {
                        array = global.favor_mechanic
                        value = THIS.id
                    }
                }
                if = {
                    limit = {
                        has_opinion = { target = GRE value > 79 }  
                    }
                    GRE_favor_80 = yes
                }
                else_if = {
                    limit = {
                        has_opinion = { target = GRE value > 39 }  
                    }
                    GRE_favor_40 = yes
                }
                else_if = {
                    limit = {
                        has_opinion = { target = GRE value > -11 }  
                    }
                    GRE_favor_0 = yes
                }
                else_if = {
                    limit = {
                        has_opinion = { target = GRE value < -10 }  
                    }
                    GRE_favor_minus = yes
                }
            }
        }
    }

	on_war_relation_added = {
		effect = {
			if = {
				limit = {
                    OR = {
                        tag = BUL
                        tag = GRE
                    }
					FROM = { 
                        OR = {
                            tag = GRE
                            tag = BUL
                        }
					}
				}
				GRE_line_pop = yes
			}           
        }
    }
}